<Window x:Class="RoboUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="JaVerno Systems RoboUI" Height="620" Width="980"
        WindowStartupLocation="CenterScreen">
    <Grid Margin="12">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="260"/>
            <ColumnDefinition Width="12"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- LEFT: JOBS -->
        <Border Grid.Column="0" Padding="10" BorderBrush="#DDDDDD" BorderThickness="1" CornerRadius="6">
            <DockPanel LastChildFill="True">
                <TextBlock DockPanel.Dock="Top" Text="Jobs" FontSize="14" FontWeight="SemiBold" Margin="0,0,0,8"/>

                <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="0,0,0,8">
                    <Button Content="Save" Width="70" Height="30" Click="SaveJob_Click"/>
                    <Button Content="Delete" Width="70" Height="30" Margin="6,0,0,0" Click="DeleteJob_Click"/>
                    <Button Content="Reload" Width="70" Height="30" Margin="8,0,0,0" Click="ReloadJobs_Click"/>
                </StackPanel>

                <ListBox x:Name="JobsListBox" SelectionChanged="JobsListBox_SelectionChanged"/>
            </DockPanel>
        </Border>

        <!-- RIGHT: EXISTING UI -->
        <Grid Grid.Column="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/> <!-- 0 Source -->
                <RowDefinition Height="Auto"/> <!-- 1 Dest -->
                <RowDefinition Height="Auto"/> <!-- 2 Options -->
                <RowDefinition Height="Auto"/> <!-- 3 Summary -->
                <RowDefinition Height="*"/>    <!-- 4 Output -->
                <RowDefinition Height="Auto"/> <!-- 5 Activity bar -->
                <RowDefinition Height="Auto"/> <!-- 6 Footer -->
             </Grid.RowDefinitions>

            <!-- SOURCE -->
            <Grid Grid.Row="0" Margin="0,0,0,8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="90"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="110"/>
                </Grid.ColumnDefinitions>

                <TextBlock Text="Source:" VerticalAlignment="Center"/>
                <TextBox x:Name="SourceTextBox" Grid.Column="1" Margin="8,0,8,0" Height="28"/>
                <Button Grid.Column="2" Height="28" Content="Browse..."
                    Click="BrowseSource_Click"/>
            </Grid>

            <!-- DEST -->
            <Grid Grid.Row="1" Margin="0,0,0,8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="90"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="110"/>
                </Grid.ColumnDefinitions>

                <TextBlock Text="Destination:" VerticalAlignment="Center"/>
                <TextBox x:Name="DestTextBox" Grid.Column="1" Margin="8,0,8,0" Height="28"/>
                <Button Grid.Column="2" Height="28" Content="Browse..."
                    Click="BrowseDest_Click"/>
            </Grid>

            <!-- OPTIONS -->
            <Border Grid.Row="2" Padding="10" BorderBrush="#DDDDDD" BorderThickness="1" CornerRadius="6" Margin="0,0,0,10">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <StackPanel>
                        <CheckBox x:Name="CopySubdirsCheck" Content="Copy subdirs (/E)" IsChecked="True" Margin="0,0,0,6"/>
                        <CheckBox x:Name="MirrorCheck" Content="Mirror (/MIR)  ⚠ Deletes in destination" Margin="0,0,0,6"/>
                        <CheckBox x:Name="DryRunCheck" Content="Dry run (/L)" Margin="0,0,0,6"/>
                    </StackPanel>

                    <StackPanel Grid.Column="1">
                        <TextBlock Text="Retries (/R:)" Margin="0,0,0,2"/>
                        <TextBox x:Name="RetriesTextBox" Text="1" Height="26" Width="110" Margin="0,0,0,8"/>

                        <TextBlock Text="Wait seconds (/W:)" Margin="0,0,0,2"/>
                        <TextBox x:Name="WaitTextBox" Text="1" Height="26" Width="110"/>

                        <TextBlock Text="Multithread (/MT:)" Margin="0,8,0,2"/>
                        <TextBox x:Name="MtTextBox" Text="8" Height="26" Width="110"/>
                    </StackPanel>

                    <StackPanel Grid.Column="2">

                        <CheckBox x:Name="NoProgressCheck" Content="No progress (/NP)" IsChecked="True" Margin="0,0,0,6"/>
                        <CheckBox x:Name="TeeCheck" Content="Echo to console stream (/TEE)" IsChecked="True"/>

                        <Separator Margin="0,8,0,8"/>

                        <CheckBox x:Name="LogToFileCheck" Content="Log to file (/LOG)" Margin="0,0,0,6"
                                  Checked="LogToFileCheck_Toggled" Unchecked="LogToFileCheck_Toggled"/>

                        <StackPanel Margin="0,0,0,6">
                            <TextBox x:Name="LogPathTextBox" 
                                     Height="26" 
                                     IsEnabled="False"
                                     HorizontalAlignment="Stretch"/>
                            
                            <Button x:Name="BrowseLogButton" 
                                    Content="Browse..." 
                                    Width="120" 
                                    Height="26" 
                                    Margin="0,6,0,0"
                                    HorizontalAlignment="Left"
                                    IsEnabled="False" 
                                    Click="BrowseLog_Click"/>
                        </StackPanel>

                        <CheckBox x:Name="AppendLogCheck" Content="Append (/LOG+:)" IsEnabled="False"/>

                    </StackPanel>
                </Grid>
            </Border>

            <!-- OUTPUT -->
            <Border Grid.Row="3" Padding="8" Margin="0,0,0,8"
        BorderBrush="#DDDDDD" BorderThickness="1" CornerRadius="6">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <StackPanel>
                        <TextBlock Text="Dirs" FontWeight="Bold"/>
                        <TextBlock x:Name="DirsSummaryText" Text="-" />
                    </StackPanel>

                    <StackPanel Grid.Column="1">
                        <TextBlock Text="Files" FontWeight="Bold"/>
                        <TextBlock x:Name="FilesSummaryText" Text="-" />
                    </StackPanel>

                    <StackPanel Grid.Column="2">
                        <TextBlock Text="Bytes" FontWeight="Bold"/>
                        <TextBlock x:Name="BytesSummaryText" Text="-" />
                    </StackPanel>

                    <StackPanel Grid.Column="3">
                        <TextBlock Text="Time" FontWeight="Bold"/>
                        <TextBlock x:Name="TimeSummaryText" Text="-" />
                    </StackPanel>
                </Grid>
            </Border>

            <TextBox Grid.Row="4" x:Name="OutputTextBox"
                 FontFamily="Consolas"
                 FontSize="12"
                 IsReadOnly="True"
                 VerticalScrollBarVisibility="Auto"
                 HorizontalScrollBarVisibility="Auto"
                 TextWrapping="NoWrap"/>

            <ProgressBar Grid.Row="5"
                         x:Name="ActivityBar"
                         Height="10"
                         Margin="0,6,0,6"
                         IsIndeterminate="True"
                         Visibility="Collapsed"/>

            <!-- FOOTER -->
            <Grid Grid.Row="6" Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <Button x:Name="RunButton" Content="Run" Width="120" Height="34" Click="Run_Click"/>
                <Button x:Name="CancelButton" Grid.Column="2" Content="Cancel" Width="120" Height="34"
                    IsEnabled="False" Click="Cancel_Click"/>

                <TextBlock Grid.Column="3" x:Name="StatusTextBlock" VerticalAlignment="Center"
                       Margin="10,0,0,0" Text="Ready." />

                <Button Grid.Column="4" Content="Copy Command" Width="140" Height="34" Click="CopyCommand_Click"/>
            </Grid>
        </Grid>
    </Grid>
</Window>
